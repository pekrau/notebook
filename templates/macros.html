{% macro noteslist(notes, level) %}
{% if notes and level > 0 %}
<ul class="list-unstyled">
  {% for note in notes %}
  <li class="my-1">
    <div class="d-flex justify-content-start">
      <button class="btn btn-clipboard btn-sm btn-outline-none p-0 mx-1"
              data-clipboard-text="[[{{ note.path }}]]"
              title="Copy the path of the note to the clipboard.">
        <span class="bi-clipboard text-dark"></span>
      </button>
      {{ starred(note) }}
      {{ filetype(note) }}
      <a href="{{ note.url }}" class="text-decoration-none">{{ note.title }}</a>
      {% if note.subnotes and level == 1 %}
      <span class="badge bg-secondary ms-2">{{ note.count }}</span>
      {% endif %}
    </div>
    {% if note.subnotes %}
    <div class="ps-5">
      {{ noteslist(note.subnotes, level-1) }}
    </div>
    {% endif %}
  </li>
  {% endfor %}
</ul>
{% endif %}
{% endmacro %}

{% macro starred(note) %}
{% if note.starred %}
<span class="bi-star-fill text-warning me-1"></span>
{% endif %}
{% endmacro %}

{% macro filetype(note) %}
{% if note.is_image %}
<span class="bi-image text-dark me-1"></span>
{% elif note.is_file %}
<span class="bi-file text-dark me-1"></span>
{% elif note.is_text %}
<span class="bi-file-font text-dark me-1"></span>
{% endif %}
{% endmacro %}

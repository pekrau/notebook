{% extends 'base.html' %}

{% block head_title %}{{ note['title'] }}{% endblock %}
{% block body_title %}{{ note['title'] }}{% endblock %}

{% block menu %}
<ul class="list-group">
  <a href="{{ url_for('home') }}"
     class="list-group-item list-group-item-light"><i>home</i></a>
  {% for pos, segment in enumerate(segments[:-1], 1) %}
  <a href="{{ url_for('note', path=join_path(segments[:pos])) }}"
     class="list-group-item list-group-item-light">/ {{ segment }}</a>
  {% endfor %}
</ul>
{% endblock %} {# block menu #}

{% block main %}
{{ note['text'] | markdown }}

{% if not note.get('notes') is none %}
<ul class="list-group">
  {% for subnote in note['notes'] %}
  <a href="{{ url_for('note', path=join_path(segments, subnote['title'])) }}"
     class="list-group-item d-flex justify-content-between align-items-center">
    {{ subnote['title'] }}
    {% if not subnote.get('notes') is none %}
    <span class="badge bg-secondary">{{ len(subnote['notes']) }}</span>
    {% endif %}
  </a>
  {% endfor %}
</ul>
{% endif %}
{% endblock %} {# block main #}

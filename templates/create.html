{% extends 'base.html' %}

{% block head_title %}Create a new note{% endblock %}
{% block body_title %}Create a new note{% endblock %}

{% block main %}
<div class="card">
  <div class="card-body">
    <form action="{{ url_for('create') }}"
          method="POST">
      <div class="mb-3">
        <label for="supernote" class="col-form-label">Supernote</label>
        {% if supernote %}
        <input type="text" name="supernote" id="supernote" readonly
               class="form-control"
               value="{{ supernote.path }}">
        {% else %}
        <input type="text" name="supernote_none" id="supernote" readonly
               class="form-control"
               value="<root>">
        {% endif %}
      </div>
      <div class="mb-3">
        <label for="title" class="col-form-label">Title</label>
        <input type="text" name="title" id="title" autofocus
               class="form-control"
               aria-describedby="titleHelp"
               value="{{ source and ('Copy of ' + source.title) or '' }}">
        <div id="titleHelp" class="form-text">
          Title of the new note; also used for the filename of the note on
          disk.
        </div>
      </div>
      <div class="mb-3">
        <label for="text" class="col-form-label">Text</label>
        <textarea name="text" id="text" rows="16"
                  class="form-control"
                  aria-describedby="textHelp"
                  >{{ source and source.text or '' }}</textarea>
        <div id="textHelp" class="form-text">
          Text of the new note in Markdown format.
        </div>
      </div>
      <div class="mb-3">
        <button type="submit" class="btn btn-primary px-5">Create</button>
      </div>
    </form>
  </div>
</div>
{% endblock %} {# block main #}

{% block right %}
<div class="d-grid gap-2">
  {% if source %}
  <a href="{{ source.url }}" class="btn btn-secondary">Cancel</a>
  {% elif supernote %}
  <a href="{{ supernote.url }}" class="btn btn-secondary">Cancel</a>
  {% else %}
  <a href="{{ url_for('home') }}" class="btn btn-secondary">Cancel</a>
  {% endif %}
</div>
{% endblock %} {# block right #}
